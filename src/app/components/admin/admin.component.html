<div class="container mx-auto mt-8 px-4">
  <h2 class="text-3xl font-semibold mb-6">Administración del Sistema</h2>

  <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
    <!-- Sección de Usuarios -->
    <div class="bg-white p-6 rounded-lg shadow-md">
      <h3 class="text-xl font-semibold mb-4">Usuarios</h3>
      <button (click)="selectedUser = {}" class="bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded mb-4">
        Agregar Usuario
      </button>
      <div *ngIf="selectedUser" class="mb-4">
        <h4 class="text-lg font-semibold">{{ selectedUser.id ? 'Editar Usuario' : 'Agregar Usuario' }}</h4>
        <input [(ngModel)]="selectedUser.nombre" placeholder="Nombre" class="border p-2 mb-2 w-full" />
        <input [(ngModel)]="selectedUser.apellidoPaterno" placeholder="Apellido Paterno" class="border p-2 mb-2 w-full" />
        <input [(ngModel)]="selectedUser.apellidoMaterno" placeholder="Apellido Materno" class="border p-2 mb-2 w-full" />
        <input [(ngModel)]="selectedUser.usuario" placeholder="Usuario" class="border p-2 mb-2 w-full" />
        <input [(ngModel)]="selectedUser.password" placeholder="Contraseña" type="password" class="border p-2 mb-2 w-full" />
        <select [(ngModel)]="selectedUser.rol" class="border p-2 mb-2 w-full">
          <option value="Admin">Admin</option>
          <option value="Juez">Juez</option>
          <option value="Policia">Policía</option>
        </select>
        <div class="flex space-x-2">
          <button (click)="saveUser()" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">
            {{ selectedUser.id ? 'Actualizar' : 'Guardar' }}
          </button>
          <button (click)="selectedUser = null" class="bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded">
            Cancelar
          </button>
        </div>
      </div>
      <div *ngFor="let user of users" class="bg-gray-100 p-4 rounded-lg shadow-md mb-4">
        <h4 class="font-bold">{{ user.nombre }} {{ user.apellidoPaterno }} {{ user.apellidoMaterno }}</h4>
        <p>Usuario: {{ user.usuario }}</p>
        <p>Rol: {{ user.rol }}</p>
        <div class="flex space-x-2">
          <button (click)="selectUser(user)" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">
            Editar
          </button>
          <button (click)="deleteUser(user.id)" class="bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded">
            Eliminar
          </button>
        </div>
      </div>
    </div>

    <!-- Sección de Exportación -->
    <div class="bg-white p-6 rounded-lg shadow-md">
      <h3 class="text-xl font-semibold mb-4">Exportar Datos</h3>
      <div class="flex flex-col space-y-4">
        <button (click)="exportUsersToExcel()" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">
          Exportar Usuarios a Excel
        </button>
        <button (click)="exportInfractionsToExcel()" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">
          Exportar Infracciones a Excel
        </button>
      </div>
    </div>
  </div>
</div>
